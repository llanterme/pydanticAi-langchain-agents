# PLANNING.md

## ğŸ§  Project Overview

We are building a **multi-agent LLM system** that automates content generation using typed models, LangGraph orchestration, and OpenAI completions. Agents communicate in sequence, simulating a real-world content production workflow.

---

## ğŸ”§ Core Technologies (Latest Versions)

| Library        | Version     | Purpose                                                           |
|----------------|-------------|-------------------------------------------------------------------|
| [PydanticAI](https://ai.pydantic.dev) | `0.2.15`      | Declarative prompt modeling & structured LLM output parsing       |
| [LangGraph](https://pypi.org/project/langgraph) | `0.4.8`     | DAG-style multi-agent orchestration                              |
| [OpenAI SDK](https://pypi.org/project/openai)  | `1.84.0`     | Call GPT-4o and other models through `chat.completions` endpoint |
| [Poetry](https://python-poetry.org)            | `1.8.4`      | Dependency, packaging, and virtualenv management                 |
| [Logfire](https://ai.pydantic.dev/logfire)     | `3.18.0`      | Observability and structured trace logging for agents            |
| [Python](https://www.python.org)               | `3.10+`      | Language runtime                                                 |

---

## ğŸ§© Agents

### 1. **Research Agent**

- Accepts CLI arguments:
  - `--topic`: string
  - `--platform`: one of [`twitter`, `linkedin`, `medium`]
  - `--tone`: one of [`informative`, `persuasive`, `casual`, `professional`, `enthusiastic`]
- Calls OpenAI to return 5â€“7 factual bullet points
- Returns a structured `ResearchResponse`

### 2. **Content Agent**

- Consumes the facts from the Research Agent
- Generates a post for the specified platform and tone
- Response optionally includes a title (for Medium)

### 3. **Image Agent**

- Consumes the facts from the Research Agent
- Generate images based on the content generated by the content agent. Use image generation API from OpenAI. Use the "gpt-image-1" model.

---

## âš™ï¸ PydanticAI Usage Summary

---

## ğŸ¯ Goals

- âœ… Model a **typed multi-agent pipeline** using LangGraph and PydanticAI  
- âœ… Automatically generate and validate prompts using structured models  
- âœ… Use `OpenAI` for inference via `chat.completions` (streaming optional)  
- âœ… Keep the codebase modular, typed, and clean for reusability  
- âœ… Structure the project for future extension (e.g., SEOAgent, FactCheckerAgent)  
- âœ… **Generate comprehensive unit tests** for all components with high test coverage

---


## ğŸ“‚ Project Structure

```
/llm_agents_demo
â”œâ”€â”€ pyproject.toml
â”œâ”€â”€ README.md
â”œâ”€â”€ planning.md
â”œâ”€â”€ .env                     # Contains OPENAI_API_KEY
â”œâ”€â”€ models/
â”‚   â””â”€â”€ schema.py           # PydanticAI input/output models
â”œâ”€â”€ agents/
â”‚   â”œâ”€â”€ research.py         # ResearchAgent logic
â”‚   â”œâ”€â”€ content.py          # ContentAgent logic
â”‚   â””â”€â”€ __init__.py
â”œâ”€â”€ flow/
â”‚   â””â”€â”€ graph.py            # LangGraph definition
â”œâ”€â”€ main.py                 # Entrypoint CLI + flow runner

```